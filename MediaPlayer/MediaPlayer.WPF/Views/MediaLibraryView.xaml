<views:MvxWpfView x:Class="MediaPlayer.WPF.Views.MediaLibraryView"
                  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                  xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                  xmlns:local="clr-namespace:MediaPlayer.WPF.Views"
                  xmlns:extensions="clr-namespace:MediaPlayer.WPF.Classes"
                  xmlns:views="clr-namespace:MvvmCross.Platforms.Wpf.Views;assembly=MvvmCross.Platforms.Wpf"
                  xmlns:mvx="clr-namespace:MvvmCross.Platforms.Wpf.Binding;assembly=MvvmCross.Platforms.Wpf" 
                  xmlns:viewmodels="clr-namespace:MediaPlayer.Core.ViewModels;assembly=MediaPlayer.Core"
                  d:DataContext="{d:DesignInstance Type=viewmodels:MediaLibraryViewModel}"
                  mc:Ignorable="d">
    <views:MvxWpfView.Resources>
        
    </views:MvxWpfView.Resources>
    <DockPanel>
        <Menu x:Name="TopMenu" DockPanel.Dock="Top">
            <MenuItem Header="File">
                <MenuItem Header=" = Open" />
                <Separator />
                <MenuItem Header="Exit" />
            </MenuItem>
            <MenuItem Header="Playlists">
                <MenuItem Header="Create Playlist" />
                <MenuItem Header="Playlists">
                    <MenuItem Header="Playlist1" />
                    <MenuItem Header="New Playlist" />
                </MenuItem>
            </MenuItem>
        </Menu>

        <StatusBar x:Name="PlayPanel" DockPanel.Dock="Bottom">
            <StatusBar.ItemsPanel>
                <ItemsPanelTemplate>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>
                    </Grid>
                </ItemsPanelTemplate>
            </StatusBar.ItemsPanel>
            <StatusBarItem Grid.Row="0" Grid.ColumnSpan="5">
                <Slider Minimum="0"
                        Maximum="{Binding LoadedTrack.ControlDuration}"
                        Width="{Binding Path=ActualWidth, ElementName=PlayPanel}"
                        extensions:SliderExtension.DragStartedCommand="{Binding SlideStartedCommand}"
                        extensions:SliderExtension.DragCompletedCommand="{Binding SlideCompletedCommand}"
                        Value="{Binding PlayerPosition, Mode=TwoWay}"
                        HorizontalContentAlignment="Stretch"
                        IsEnabled="{Binding IsTrackLoaded}"
                        Margin="5,0" />
            </StatusBarItem>
            <StatusBarItem Grid.Row="1" Grid.Column="1" HorizontalContentAlignment="Right">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="{Binding DisplayProgression}" />
                </StackPanel>
            </StatusBarItem>
            <StatusBarItem Grid.Row="1" Grid.Column="2" HorizontalAlignment="Center" HorizontalContentAlignment="Center">
                <WrapPanel>
                    <WrapPanel.Resources>
                        <Style TargetType="Button">
                            <Setter Property="Margin" Value="5,0" />
                        </Style>
                    </WrapPanel.Resources>
                    <Button Content="Stop" mvx:Bi.nd="Command StopCommand" />
                    <Button Content="Back" mvx:Bi.nd="Command SkipBackCommand" />
                    <ToggleButton Width="35"
                                  HorizontalAlignment="Center"
                                  mvx:Bi.nd="Command PlayPauseCommand"
                                  IsChecked="{Binding IsTrackPlaying, Mode=OneWay}">
                        <ToggleButton.Style>
                            <Style TargetType="ToggleButton">
                                <Style.Triggers>
                                    <Trigger Property="IsChecked" Value="False">
                                        <Setter Property="Content" Value="Play"/>
                                    </Trigger>
                                    <Trigger Property="IsChecked" Value="True">
                                        <Setter Property="Content" Value="Pause"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ToggleButton.Style>
                    </ToggleButton>
                    <Button Content="Fwrd" mvx:Bi.nd="Command SkipForwardCommand" />
                    <Slider x:Name="VolumeSlider"
                            Minimum="0"
                            Maximum="100"
                            Interval="1"
                            Value="{Binding PlayerVolume, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                            Width="50"
                            AutoToolTipPlacement="BottomRight" />
                </WrapPanel>
            </StatusBarItem>
        </StatusBar>

        <StackPanel x:Name="NavigationPanel" DockPanel.Dock="Left" Width="150">
            <StackPanel.Resources>
                <Style TargetType="Button">
                    <Setter Property="Margin" Value="0,10" />
                </Style>
            </StackPanel.Resources>
            <Button Content="Songs" />
            <Button Content="Albums" />
            <Button Content="Artists" />
            <Button Content="Genres" />
        </StackPanel>
        
        <Grid x:Name="QueuePanel" DockPanel.Dock="Right" Width="150">
            <ListView ItemsSource="{Binding TrackQueue}"
                      SelectedIndex="{Binding SelectedQueueIndex, Mode=TwoWay}">
                <ListView.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Play Track" mvx:Bi.nd="Command JumpQueueCommand" />
                        <MenuItem Header="Remove from Queue" mvx:Bi.nd="Command RemoveTrackCommand" />
                        <MenuItem Header="Clear Queue" mvx:Bi.nd="Command ClearQueueCommand" />
                    </ContextMenu>
                </ListView.ContextMenu>
                <ListView.View>
                    <GridView>
                        <GridViewColumn DisplayMemberBinding="{Binding TrackName}" />
                        <GridViewColumn DisplayMemberBinding="{Binding DisplayDuration}" Width="Auto" />
                    </GridView>
                </ListView.View>
            </ListView>
        </Grid>
        
        <Frame x:Name="MainView" />
        <Grid x:Name="MainViewPanel">
            <Grid.Resources>
                <Style TargetType="DataGrid">
                    <Setter Property="AutoGenerateColumns" Value="False" />
                    <Setter Property="EnableRowVirtualization" Value="True" />
                    <Setter Property="RowDetailsVisibilityMode" Value="VisibleWhenSelected" />
                    <Setter Property="ScrollViewer.CanContentScroll" Value="True" />
                    <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Visible" />
                </Style>
            </Grid.Resources>
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <DataGrid x:Name="dgArtists"
                      Grid.Row="0"
                      ItemsSource="{Binding DisplayArtists}"                      
                      SelectedItem="{Binding SelectedArtist, Mode=TwoWay}">
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Play" mvx:Bi.nd="Command PlayArtistCommand" />
                        <MenuItem Header="Add to Queue" mvx:Bi.nd="Command AddArtistCommand" />
                    </ContextMenu>
                </DataGrid.ContextMenu>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Artist ID"
                                        Binding="{Binding ArtistID}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Name" 
                                        Binding="{Binding ArtistName}"
                                        Width="*" />
                </DataGrid.Columns>
            </DataGrid>
            <DataGrid x:Name="dgAlbums"
                      Grid.Row="1"
                      ItemsSource="{Binding DisplayArtistsAlbums}"
                      SelectedItem="{Binding SelectedAlbum, Mode=TwoWay}">
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Play" mvx:Bi.nd="Command PlayAlbumCommand">
                            <MenuItem Header="Album" mvx:Bi.nd="Command PlayAlbumCommand" />
                            <MenuItem Header="Artist" mvx:Bi.nd="Command PlayArtistCommand" />
                        </MenuItem>
                        <MenuItem Header="Add to Queue" mvx:Bi.nd="Command AddAlbumCommand">
                            <MenuItem Header="Album" mvx:Bi.nd="Command AddAlbumCommand" />
                            <MenuItem Header="Artist" mvx:Bi.nd="Command AddArtistCommand" />
                        </MenuItem>
                    </ContextMenu>
                </DataGrid.ContextMenu>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Artist ID"
                                        Binding="{Binding ArtistID}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Album ID" 
                                        Binding="{Binding AlbumID}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Album Name"
                                        Binding="{Binding AlbumName}"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Year"
                                        Binding="{Binding ReleaseYear}"
                                        IsReadOnly="True" />
                </DataGrid.Columns>
            </DataGrid>
            <DataGrid x:Name="dgDiscs"
                      Grid.Row="2"
                      ItemsSource="{Binding DisplayAlbumsDiscs}"
                      SelectedItem="{Binding SelectedDisc, Mode=TwoWay}">
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Play" mvx:Bi.nd="Command PlayDiscCommand">
                            <MenuItem Header="Disc" mvx:Bi.nd="Command PlayDiscCommand" />
                            <MenuItem Header="Album" mvx:Bi.nd="Command PlayAlbumCommand" />
                            <MenuItem Header="Artist" mvx:Bi.nd="Command PlayArtistCommand" />
                        </MenuItem>
                        <MenuItem Header="Add to Queue" mvx:Bi.nd="Command AddDiscCommand">
                            <MenuItem Header="Disc" mvx:Bi.nd="Command AddDiscCommand" />
                            <MenuItem Header="Album" mvx:Bi.nd="Command AddAlbumCommand" />
                            <MenuItem Header="Artist" mvx:Bi.nd="Command AddArtistCommand" />
                        </MenuItem>
                    </ContextMenu>
                </DataGrid.ContextMenu>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Album ID"
                                        Binding="{Binding AlbumID}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Disc ID"
                                        Binding="{Binding DiscID}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Disc Number"
                                        Binding="{Binding DiscNum}"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Disc Name"
                                        Binding="{Binding DiscName}"
                                        IsReadOnly="True" />
                </DataGrid.Columns>
            </DataGrid>
            <DataGrid x:Name="dgTracks"                      
                      Grid.Row="3"
                      ItemsSource="{Binding DisplayDiscsTracks}"
                      SelectedItem="{Binding SelectedTrack, Mode=TwoWay}">
                <DataGrid.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Play" mvx:Bi.nd="Command PlayTrackCommand">
                            <MenuItem Header="Song" mvx:Bi.nd="Command PlayTrackCommand" />
                            <MenuItem Header="Disc" mvx:Bi.nd="Command PlayDiscCommand" />
                            <MenuItem Header="Album" mvx:Bi.nd="Command PlayAlbumCommand" />
                            <MenuItem Header="Artist" mvx:Bi.nd="Command PlayArtistCommand" />
                        </MenuItem>
                        <MenuItem Header="Add to Queue" mvx:Bi.nd="Command AddTrackCommand">
                            <MenuItem Header="Song" mvx:Bi.nd="Command AddTrackCommand" />
                            <MenuItem Header="Disc" mvx:Bi.nd="Command AddDiscCommand" />
                            <MenuItem Header="Album" mvx:Bi.nd="Command AddAlbumCommand" />
                            <MenuItem Header="Artist" mvx:Bi.nd="Command AddArtistCommand" />
                        </MenuItem>
                    </ContextMenu>
                </DataGrid.ContextMenu>
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Disc ID"
                                        Binding="{Binding DiscID}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Track ID"
                                        Binding="{Binding TrackID}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Track Number"
                                        Binding="{Binding TrackNum}"
                                        Width="SizeToHeader"
                                        IsReadOnly="True" />
                    <DataGridTextColumn Header="Track Name"
                                        Binding="{Binding TrackName}"
                                        IsReadOnly="True" />
                </DataGrid.Columns>
            </DataGrid>
            <Button Content="Save"
                    Grid.Row="4"
                    mvx:Bi.nd="Command BtnClickCommand"
                    HorizontalAlignment="Center">
                <!--Click="Button_Click"-->
            </Button>
        </Grid>
    </DockPanel>
</views:MvxWpfView>
